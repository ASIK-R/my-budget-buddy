import{j as t}from"./charts-BciV_co-.js";import{r as $}from"./vendor-C6QSnSy8.js";import{u as k}from"./dashboard-BxLSlvrI.js";import{L as h,c as f,j,i as y,C}from"./icons-CfTck2df.js";import"./animation-1uu9_pmp.js";import"./utils-isDzWD96.js";const N=(i,l,d)=>{if(!i.length)return[{title:"No Data Yet",description:"Add income and expenses to receive personalized tips and insights.",icon:h,tone:"neutral"}];const c=i.filter(e=>e.type==="income").reduce((e,r)=>e+r.amount,0),a=i.filter(e=>e.type==="expense").reduce((e,r)=>e+r.amount,0),n=c-a,o=c>0?(n/c*100).toFixed(1):0,g=i.filter(e=>e.type==="expense").reduce((e,r)=>(e[r.category]=(e[r.category]||0)+r.amount,e),{}),u=Object.entries(g).sort((e,r)=>r[1]-e[1])[0],m=l.map(e=>{const r=i.filter(p=>p.type==="expense"&&p.category===e.category).reduce((p,w)=>p+w.amount,0);return{category:e.category,budget:e.limit,actual:r,utilization:e.limit>0?(r/e.limit*100).toFixed(1):0}}),x=d.reduce((e,r)=>e+r.balance,0),v=i.filter(e=>e.recurring).length,s=[{title:n>=0?"Positive Cash Flow":"Negative Cash Flow",description:n>=0?`You have saved $${n.toLocaleString()} this period with a ${o}% savings rate. Consider moving some funds into savings.`:`Expenses exceeded income by $${Math.abs(n).toLocaleString()}. Review discretionary spending to rebalance your budget.`,icon:n>=0?f:j,tone:n>=0?"positive":"warning"}];u&&s.push({title:`${u[0]} Spending`,description:`You spent $${u[1].toLocaleString()} on ${u[0]} this period. Compare with your budget to stay on track.`,icon:h,tone:"neutral"});const b=m.filter(e=>e.utilization>100);if(b.length>0){const e=b[0];s.push({title:"Budget Alert",description:`You've exceeded your budget for ${e.category} by $${(e.actual-e.budget).toFixed(2)}. Consider adjusting your spending in this category.`,icon:j,tone:"warning"})}else if(m.length>0){const e=m.filter(r=>r.utilization<=80);e.length>0&&s.push({title:"Budget Success",description:`Great job! You're staying under budget in ${e.length} categories.`,icon:y,tone:"positive"})}return o>=20?s.push({title:"Excellent Savings Rate",description:`Your ${o}% savings rate is impressive! Consider investing some of these savings for long-term growth.`,icon:f,tone:"positive"}):o>0&&s.push({title:"Savings Opportunity",description:`Your ${o}% savings rate is a good start. Try to increase it to 20% for better financial security.`,icon:y,tone:"neutral"}),x>0&&s.push({title:"Total Assets",description:`Your total wallet balance is $${x.toLocaleString()}. Make sure to keep an emergency fund covering 3-6 months of expenses.`,icon:y,tone:"neutral"}),v>0&&s.push({title:"Recurring Transactions",description:`You have ${v} recurring transactions. Review them regularly to ensure they're still necessary.`,icon:C,tone:"neutral"}),s.push({title:"Smart Tip",description:"Create category budgets in the Wallet tab and enable notifications to receive proactive alerts when you approach your limits.",icon:h,tone:"positive"}),s},L=()=>{const{transactions:i,budgets:l,wallets:d}=k(),c=$.useMemo(()=>N(i,l,d),[i,l,d]);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"AI Insights"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Personalized recommendations to help you stay on top of your finances."})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:c.map((a,n)=>{const o=a.icon,g={positive:"bg-green-50 dark:bg-green-900/30 border-green-200 dark:border-green-700",warning:"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-700",neutral:"bg-primary-50 dark:bg-primary-900/30 border-primary-200 dark:border-primary-700"};return t.jsx("div",{className:`card border ${g[a.tone]||g.neutral}`,children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"p-3 rounded-xl bg-white dark:bg-gray-800 shadow-sm",children:t.jsx(o,{className:"text-primary-600 dark:text-primary-300",size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold mb-2",children:a.title}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:a.description})]})]})},n)})}),t.jsxs("div",{className:"card",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Upcoming Enhancements"}),t.jsxs("ul",{className:"space-y-3 text-gray-600 dark:text-gray-300",children:[t.jsx("li",{children:"• Connect your Google account to enable AI-powered forecasting and anomaly detection."}),t.jsx("li",{children:"• Enable notifications to receive weekly summaries and proactive alerts."}),t.jsx("li",{children:"• Use transaction tags to improve AI categorization accuracy."}),t.jsx("li",{children:"• Set financial goals for personalized investment and savings recommendations."})]})]})]})};export{L as default};
