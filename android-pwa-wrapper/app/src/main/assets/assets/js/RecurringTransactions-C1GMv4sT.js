import{j as e}from"./charts-BciV_co-.js";import{r as m}from"./vendor-C6QSnSy8.js";import{l as w,q,C as p,a7 as S,a8 as T,t as D,d as C}from"./icons-CfTck2df.js";import{m as d}from"./animation-1uu9_pmp.js";const E=()=>{const[h,n]=m.useState(!1),[c,o]=m.useState(null),[l,x]=m.useState([{id:"1",description:"Monthly Salary",amount:3500,type:"income",category:"Salary",frequency:"monthly",nextDate:"2023-07-01",status:"active"},{id:"2",description:"Rent Payment",amount:1200,type:"expense",category:"Bills",frequency:"monthly",nextDate:"2023-07-05",status:"active"},{id:"3",description:"Gym Membership",amount:45,type:"expense",category:"Health",frequency:"monthly",nextDate:"2023-07-10",status:"paused"}]),[r,s]=m.useState({description:"",amount:"",type:"expense",category:"Food",frequency:"monthly"}),u=["Food","Transport","Bills","Shopping","Entertainment","Health","Salary","Freelance","Investment","Other"],g=[{id:"daily",name:"Daily"},{id:"weekly",name:"Weekly"},{id:"biweekly",name:"Bi-weekly"},{id:"monthly",name:"Monthly"},{id:"quarterly",name:"Quarterly"},{id:"yearly",name:"Yearly"}],b=t=>{if(t.preventDefault(),r.description&&r.amount){const a={id:Date.now().toString(),...r,amount:parseFloat(r.amount),nextDate:new Date().toISOString().split("T")[0],status:"active"};x(c?l.map(i=>i.id===c.id?a:i):[...l,a]),s({description:"",amount:"",type:"expense",category:"Food",frequency:"monthly"}),n(!1),o(null)}},j=t=>{o(t),s({description:t.description,amount:t.amount.toString(),type:t.type,category:t.category,frequency:t.frequency}),n(!0)},f=t=>{x(l.filter(a=>a.id!==t))},v=t=>{x(l.map(a=>a.id===t?{...a,status:a.status==="active"?"paused":"active"}:a))},y=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),N=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Recurring Transactions"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage recurring income and expenses."})]}),e.jsxs("button",{className:"btn-primary flex items-center gap-2",onClick:()=>n(!0),children:[e.jsx(w,{size:20}),"Add Recurring"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(d.div,{className:"card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-xl bg-green-100 dark:bg-green-900/30",children:e.jsx(q,{className:"text-green-600 dark:text-green-400",size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Active Recurring"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.filter(t=>t.status==="active").length})]})]})}),e.jsx(d.div,{className:"card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-xl bg-blue-100 dark:bg-blue-900/30",children:e.jsx(p,{className:"text-blue-600 dark:text-blue-400",size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Monthly Income"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:y(l.filter(t=>t.type==="income"&&t.status==="active").reduce((t,a)=>t+a.amount,0))})]})]})}),e.jsx(d.div,{className:"card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-xl bg-red-100 dark:bg-red-900/30",children:e.jsx(p,{className:"text-red-600 dark:text-red-400",size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Monthly Expenses"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:y(l.filter(t=>t.type==="expense"&&t.status==="active").reduce((t,a)=>t+a.amount,0))})]})]})})]}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Description"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Amount"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Category"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Frequency"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Next Date"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white",children:"Actions"})]})}),e.jsx("tbody",{children:l.map((t,a)=>{var i;return e.jsxs(d.tr,{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:a*.05},children:[e.jsx("td",{className:"py-4 px-4",children:e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:t.description})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("span",{className:t.type==="income"?"text-green-500":"text-red-500",children:[t.type==="income"?"+":"-",y(t.amount)]})}),e.jsx("td",{className:"py-4 px-4 text-gray-600 dark:text-gray-400",children:t.category}),e.jsx("td",{className:"py-4 px-4 text-gray-600 dark:text-gray-400",children:((i=g.find(k=>k.id===t.frequency))==null?void 0:i.name)||t.frequency}),e.jsx("td",{className:"py-4 px-4 text-gray-600 dark:text-gray-400",children:N(t.nextDate)}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400"}`,children:t.status==="active"?"Active":"Paused"})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>v(t.id),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:t.status==="active"?e.jsx(S,{size:16,className:"text-gray-500 dark:text-gray-400"}):e.jsx(T,{size:16,className:"text-gray-500 dark:text-gray-400"})}),e.jsx("button",{onClick:()=>j(t),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:e.jsx(D,{size:16,className:"text-gray-500 dark:text-gray-400"})}),e.jsx("button",{onClick:()=>f(t.id),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:e.jsx(C,{size:16,className:"text-red-500"})})]})})]},t.id)})})]})})}),h&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:e.jsxs(d.div,{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-md",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold",children:c?"Edit Recurring Transaction":"Add Recurring Transaction"}),e.jsx("button",{onClick:()=>{n(!1),o(null),s({description:"",amount:"",type:"expense",category:"Food",frequency:"monthly"})},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsxs("form",{onSubmit:b,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),e.jsx("input",{type:"text",value:r.description,onChange:t=>s({...r,description:t.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700",placeholder:"e.g., Monthly Salary",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Amount"}),e.jsx("input",{type:"number",step:"0.01",value:r.amount,onChange:t=>s({...r,amount:t.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700",placeholder:"0.00",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Type"}),e.jsxs("select",{value:r.type,onChange:t=>s({...r,type:t.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700",required:!0,children:[e.jsx("option",{value:"income",children:"Income"}),e.jsx("option",{value:"expense",children:"Expense"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category"}),e.jsx("select",{value:r.category,onChange:t=>s({...r,category:t.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700",required:!0,children:u.map(t=>e.jsx("option",{value:t,children:t},t))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Frequency"}),e.jsx("select",{value:r.frequency,onChange:t=>s({...r,frequency:t.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700",required:!0,children:g.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{n(!1),o(null),s({description:"",amount:"",type:"expense",category:"Food",frequency:"monthly"})},className:"flex-1 py-3 px-4 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-semibold rounded-xl transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 py-3 px-4 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white font-semibold rounded-xl shadow-md hover:shadow-lg transition-all",children:c?"Update Transaction":"Add Transaction"})]})]})]})})]})};export{E as default};
