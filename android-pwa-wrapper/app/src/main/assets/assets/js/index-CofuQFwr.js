const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/dashboard-BxLSlvrI.js","assets/js/charts-BciV_co-.js","assets/js/vendor-C6QSnSy8.js","assets/js/animation-1uu9_pmp.js","assets/js/utils-isDzWD96.js","assets/js/icons-CfTck2df.js","assets/js/analysis-hPK1Cz1q.js","assets/js/ai-D8qgtmem.js","assets/js/wallets-C8h88Fz5.js","assets/js/planning-4dPq2L3Q.js","assets/js/Budgets-T9Hly2wI.js","assets/js/Gamification-DnfUIUrW.js","assets/js/Goals-Bcqyv9tf.js","assets/js/Integrations-vBdGc84X.js","assets/js/Investments-D_GUhloU.js","assets/js/profile-DblVBl6p.js","assets/js/RecurringTransactions-C1GMv4sT.js","assets/js/Reports-0V7DiU4w.js","assets/js/report-Cp_-y-td.js","assets/js/Settings-CQEVRgjP.js","assets/js/SharedAccounts-DIDXcv3A.js","assets/js/Support-Cf6yMCy6.js"])))=>i.map(i=>d[i]);
import{j as e}from"./charts-BciV_co-.js";import{a as ee,r,u as D,d as re,B as ae,e as te,f as N,b as se}from"./vendor-C6QSnSy8.js";import{u as z,s as ie,a as ne,A as oe,P as E}from"./dashboard-BxLSlvrI.js";import{b as le,c as de,m as v,A as S}from"./animation-1uu9_pmp.js";import{$ as O,a0 as V,s as $,W as M,p as W,c as ce,V as me,U as F,q as pe,Z as A,a1 as ue,R as U,N as H,O as q,a2 as xe,K as B,J as G,X as ge,a3 as he}from"./icons-CfTck2df.js";import"./utils-isDzWD96.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function c(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(i){if(i.ep)return;i.ep=!0;const n=c(i);fetch(i.href,n)}})();var L={},R=ee;L.createRoot=R.createRoot,L.hydrateRoot=R.hydrateRoot;const fe="modulepreload",ye=function(t){return"/"+t},C={},u=function(d,c,a){let i=Promise.resolve();if(c&&c.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(c.map(p=>{if(p=ye(p),p in C)return;C[p]=!0;const x=p.endsWith(".css"),h=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${h}`))return;const s=document.createElement("link");if(s.rel=x?"stylesheet":fe,x||(s.as="script"),s.crossOrigin="",s.href=p,l&&s.setAttribute("nonce",l),document.head.appendChild(s),x)return new Promise((y,f)=>{s.addEventListener("load",y),s.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${p}`)))})}))}function n(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&n(l.reason);return d().catch(n)})},be={colors:{primary:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e"},secondary:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a"},accent:{blue:"#6366f1",purple:"#8b5cf6",pink:"#ec4899"},success:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d"},warning:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f"},error:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d"},neutral:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a"},background:{light:"#ffffff",dark:"#0f172a"}},typography:{fontFamily:{sans:["Inter","Poppins","Nunito Sans","sans-serif"],heading:["Inter","Poppins","Nunito Sans","sans-serif"]},fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem"},fontWeight:{light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800},lineHeight:{tight:1.25,snug:1.375,normal:1.5,relaxed:1.625,loose:2}},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem","2xl":"3rem","3xl":"4rem"},borderRadius:{none:"0",sm:"0.125rem",md:"0.25rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},shadows:{sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",inner:"inset 0 2px 4px 0 rgba(0, 0, 0, 0.06)",neumorphism:{light:"8px 8px 16px #d1d9e6, -8px -8px 16px #ffffff",dark:"6px 6px 12px #0a0f1a, -6px -6px 12px #14203a"}},transitions:{duration:{fast:"150ms",normal:"300ms",slow:"500ms"},easing:{default:"cubic-bezier(0.4, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",easeOut:"cubic-bezier(0, 0, 0.2, 1)"}},zIndex:{auto:"auto",dropdown:1e3,sticky:1020,fixed:1030,modalBackdrop:1040,modal:1050,popover:1060,tooltip:1070}},K=r.createContext(),J=()=>{const t=r.useContext(K);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t},ve=({children:t})=>{const[d,c]=r.useState(()=>{const l=localStorage.getItem("theme");return l?l==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}),[a,i]=r.useState(!1);r.useEffect(()=>{const l=x=>{localStorage.getItem("theme")||c(x.matches)},p=window.matchMedia("(prefers-color-scheme: dark)");return p.addEventListener("change",l),()=>{p.removeEventListener("change",l)}},[]),r.useEffect(()=>{i(!0),d?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",d?"dark":"light");const l=setTimeout(()=>{i(!1)},300);return()=>clearTimeout(l)},[d]);const o={darkMode:d,toggleTheme:()=>{c(!d)},isTransitioning:a,theme:be};return e.jsx(K.Provider,{value:o,children:t})},je=()=>e.jsx("div",{className:"flex items-center justify-center h-full min-h-[400px]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Loading..."})]})}),Q=r.lazy(()=>u(()=>import("./dashboard-BxLSlvrI.js").then(t=>t.D),__vite__mapDeps([0,1,2,3,4,5]))),we=r.lazy(()=>u(()=>import("./analysis-hPK1Cz1q.js"),__vite__mapDeps([6,1,2,0,3,4,5]))),ke=r.lazy(()=>u(()=>import("./ai-D8qgtmem.js"),__vite__mapDeps([7,1,2,0,3,4,5]))),_e=r.lazy(()=>u(()=>import("./wallets-C8h88Fz5.js"),__vite__mapDeps([8,1,2,0,3,4,5]))),Ne=r.lazy(()=>u(()=>import("./planning-4dPq2L3Q.js"),__vite__mapDeps([9,1,2,0,3,4,5])));r.lazy(()=>u(()=>import("./Budgets-T9Hly2wI.js"),__vite__mapDeps([10,1,2,0,3,4,5])));const Ee=r.lazy(()=>u(()=>import("./Gamification-DnfUIUrW.js"),__vite__mapDeps([11,1,2,3,5]))),Ie=r.lazy(()=>u(()=>import("./Goals-Bcqyv9tf.js"),__vite__mapDeps([12,1,2,0,3,4,5]))),Te=r.lazy(()=>u(()=>import("./Integrations-vBdGc84X.js"),__vite__mapDeps([13,1,2,0,3,4,5]))),ze=r.lazy(()=>u(()=>import("./Investments-D_GUhloU.js"),__vite__mapDeps([14,1,2,5,3]))),Pe=r.lazy(()=>u(()=>import("./profile-DblVBl6p.js"),__vite__mapDeps([15,1,2,0,3,4,5]))),Le=r.lazy(()=>u(()=>import("./RecurringTransactions-C1GMv4sT.js"),__vite__mapDeps([16,1,2,5,3]))),Se=r.lazy(()=>u(()=>import("./Reports-0V7DiU4w.js"),__vite__mapDeps([17,1,2,0,3,4,5,18]))),Ae=r.lazy(()=>u(()=>import("./Settings-CQEVRgjP.js"),__vite__mapDeps([19,1,2,0,3,4,5,18]))),Re=r.lazy(()=>u(()=>import("./SharedAccounts-DIDXcv3A.js"),__vite__mapDeps([20,1,2,5,3]))),Ce=r.lazy(()=>u(()=>import("./Support-Cf6yMCy6.js"),__vite__mapDeps([21,1,2,3,5]))),De=[{id:"dashboard",component:Q,label:"Dashboard"},{id:"ai",component:ke,label:"AI Insights"},{id:"analysis",component:we,label:"Analysis"},{id:"wallets",component:_e,label:"Wallets"},{id:"planning",component:Ne,label:"Financial Planning"},{id:"investments",component:ze,label:"Investments"},{id:"gamification",component:Ee,label:"Gamification"},{id:"goals",component:Ie,label:"Goals"},{id:"reports",component:Se,label:"Reports"},{id:"recurring",component:Le,label:"Recurring"},{id:"shared",component:Re,label:"Shared Accounts"},{id:"integrations",component:Te,label:"Integrations"},{id:"support",component:Ce,label:"Support"},{id:"settings",component:Ae,label:"Settings"},{id:"profile",component:Pe,label:"Profile"}],Oe=({initialSlide:t=0,onSlideChange:d})=>{var k;const{isOnline:c}=z(),[a,i]=r.useState(t),[n,o]=r.useState(!1),[l,p]=r.useState(0),x=r.useRef(null),h=le(0);if(de(h,[-100,0,100],[0,1,0]),console.log("DesktopSlider render:",{initialSlide:t,currentSlide:a,isTransitioning:n}),t===void 0||a===void 0)return e.jsx("div",{className:"p-4",children:"Loading slider..."});const s=r.useMemo(()=>De,[]);r.useEffect(()=>{if(t!==a&&!n){const m=t>a?1:-1;p(m),i(t)}},[t,a,n]);const y=r.useCallback((m,j=0)=>{m===a||n||(o(!0),p(j),i(m),d&&d(m),setTimeout(()=>{o(!1),h.set(0)},300))},[a,n,d,h]),f=r.useCallback((m,j)=>{Math.abs(j.offset.x)>50||Math.abs(j.velocity.x)>500?j.offset.x>0&&a>0?y(a-1,-1):j.offset.x<0&&a<s.length-1?y(a+1,1):h.set(0):h.set(0)},[a,y,h,s.length]);r.useEffect(()=>{const m=j=>{j.key==="ArrowLeft"&&a>0&&!n?y(a-1,-1):j.key==="ArrowRight"&&a<s.length-1&&!n&&y(a+1,1)};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[a,n,y,s.length]);const _={enter:m=>({x:m>0?1e3:-1e3,opacity:0,scale:.95}),center:{zIndex:1,x:0,opacity:1,scale:1,transition:{x:{type:"spring",stiffness:400,damping:35},opacity:{duration:.25},scale:{duration:.25}}},exit:m=>({zIndex:0,x:m<0?1e3:-1e3,opacity:0,scale:.95,transition:{x:{type:"spring",stiffness:400,damping:35},opacity:{duration:.25},scale:{duration:.25}}})},g={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,delay:.1}}},w=r.useMemo(()=>{var j,b;const m=((j=s[a])==null?void 0:j.component)||Q;return console.log("Current slide component:",((b=s[a])==null?void 0:b.label)||"Dashboard"),m},[a,s]);return e.jsxs("div",{className:"relative h-full overflow-hidden bg-white dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 dark-gradient rounded-l-2xl",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gray-200/50 dark:bg-gray-700/50 z-10",children:e.jsx(v.div,{className:"h-full bg-gradient-to-r from-primary-500 via-primary-600 to-primary-500 shadow-lg",initial:{width:0},animate:{width:`${(a+1)/s.length*100}%`},transition:{duration:.4,ease:[.25,.46,.45,.94]}})}),e.jsx(v.div,{ref:x,className:"relative h-full",drag:"x",dragConstraints:{left:0,right:0},dragElastic:.1,onDragEnd:f,style:{x:h},animate:{x:0},transition:{type:"spring",stiffness:400,damping:35},children:e.jsx(S,{mode:"wait",custom:l,initial:!1,children:e.jsx(v.div,{custom:l,variants:_,initial:"enter",animate:"center",exit:"exit",className:"absolute inset-0 h-full overflow-y-auto scrollbar-thin",children:e.jsx(v.div,{className:"p-4 md:p-6 lg:p-8 h-full",variants:g,initial:"hidden",animate:"visible",children:e.jsx(r.Suspense,{fallback:e.jsx(je,{}),children:e.jsx(w,{})})})},`slide-${a}`)})}),e.jsx("div",{className:"absolute top-6 left-1/2 -translate-x-1/2 z-20",children:e.jsxs(v.div,{className:"relative",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.25},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-500/20 via-primary-600/30 to-primary-500/20 blur-xl rounded-full"}),e.jsx("div",{className:"relative bg-gradient-to-r from-white/95 via-white/98 to-white/95 dark:from-gray-800/95 dark:via-gray-800/98 dark:to-gray-800/95 dark-gradient backdrop-blur-md px-6 py-3 rounded-full shadow-xl border border-primary-200/50 dark:border-primary-700/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v.div,{className:"h-2 w-2 rounded-full bg-primary-500",animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0}}),e.jsx("span",{className:"text-sm font-semibold bg-gradient-to-r from-primary-600 to-primary-700 dark:from-primary-300 dark:to-primary-200 bg-clip-text text-transparent",children:((k=s[a])==null?void 0:k.label)||"Dashboard"}),e.jsx(v.div,{className:"h-2 w-2 rounded-full bg-primary-500",animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0,delay:.5}})]})})]},`label-${a}`)}),c&&e.jsx(v.div,{className:"absolute bottom-20 left-1/2 -translate-x-1/2 z-10 text-xs text-gray-400 dark:text-gray-500",initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:3,repeat:1/0},children:"Swipe or use arrow keys to navigate"})]})},Ve=({onSlideChange:t,currentSlide:d=0})=>{const{isOnline:c,isSyncing:a,syncData:i}=z(),{darkMode:n,toggleTheme:o,isTransitioning:l}=J(),[p,x]=r.useState(!1),h=r.useMemo(()=>[{id:0,icon:O,label:"Dashboard"},{id:1,icon:V,label:"AI Insights"},{id:2,icon:$,label:"Analysis"},{id:3,icon:M,label:"Wallets"},{id:4,icon:W,label:"Financial Planning"},{id:5,icon:ce,label:"Investments"},{id:6,icon:me,label:"Gamification"},{id:14,icon:F,label:"Profile"}],[]),s=r.useMemo(()=>[{id:9,icon:pe,label:"Recurring"},{id:12,icon:A,label:"Support"},{id:13,icon:ue,label:"Settings"}],[]),y=r.useCallback(()=>x(g=>!g),[]),f=r.useCallback(()=>i(),[i]),_=r.useCallback(g=>{t&&setTimeout(()=>{t(g)},50)},[t]);return e.jsx("aside",{className:"fixed left-0 top-0 h-screen w-64 bg-white dark:bg-gray-800 border-r border-gray-200/50 dark:border-gray-700/50 z-30 shadow-xl rounded-r-2xl",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"p-5 border-b border-gray-200/50 dark:border-gray-700/50",children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-primary-600 to-primary-700 bg-clip-text text-transparent",children:"Expense Tracker"}),e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.jsx("button",{onClick:f,className:`p-1.5 rounded-lg transition-all ${a?"animate-spin":"hover:bg-gray-100 dark:hover:bg-gray-700 shadow-sm"}`,children:e.jsx(U,{size:16,className:a?"text-yellow-500":"text-gray-500 dark:text-gray-400"})}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[c?e.jsx(H,{size:16,className:"text-green-500"}):e.jsx(q,{size:16,className:"text-red-500"}),e.jsx("span",{className:`text-xs font-medium ${c?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:c?"Online":"Offline"})]})]})]}),e.jsxs("nav",{className:"flex-1 p-3 space-y-1 overflow-y-auto scrollbar-thin",children:[h.map((g,w)=>{const k=g.icon,m=d===g.id;return e.jsxs(v.button,{onClick:()=>_(g.id),className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-300 group relative ${m?"bg-gradient-to-r from-primary-50 to-primary-100/50 dark:from-primary-900/30 dark:to-primary-800/20 text-primary-700 dark:text-primary-300 shadow-sm":"text-gray-700 dark:text-gray-300 hover:bg-gray-100/80 dark:hover:bg-gray-700/50"}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:w*.03},whileHover:{x:4},whileTap:{scale:.98},children:[e.jsx(v.div,{className:`p-2 rounded-lg transition-all duration-300 shadow-sm ${m?"bg-primary-500 text-white shadow-md":"bg-gray-100 dark:bg-gray-700 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/50 text-gray-600 dark:text-gray-400 group-hover:text-primary-600 dark:group-hover:text-primary-400"}`,whileHover:{rotate:m?0:5},animate:{scale:m?1.05:1},transition:{duration:.2},children:e.jsx(k,{size:18})}),e.jsx("span",{className:"font-medium",children:g.label}),m&&e.jsx(v.div,{className:"ml-auto w-2 h-2 rounded-full bg-primary-500",initial:{scale:0},animate:{scale:1},transition:{delay:.1}})]},g.id)}),e.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-200/50 dark:border-gray-700/50",children:[e.jsxs(v.button,{onClick:y,className:"w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-300 hover:bg-gray-100/80 dark:hover:bg-gray-700/50 text-gray-700 dark:text-gray-300 group",whileHover:{x:4},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/50 transition-colors duration-300 shadow-sm",children:e.jsx(A,{size:18,className:"text-gray-600 dark:text-gray-400 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors duration-300"})}),e.jsx("span",{className:"font-medium",children:"More Features"})]}),e.jsx(v.div,{className:"p-1.5 rounded-lg bg-gray-100 dark:bg-gray-700 group-hover:bg-primary-100 dark:group-hover:bg-primary-900/50 transition-colors duration-300 shadow-sm",animate:{rotate:p?180:0},transition:{duration:.2},children:e.jsx(xe,{size:18,className:"text-gray-600 dark:text-gray-400 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors duration-300"})})]}),e.jsx(S,{children:p&&e.jsx(v.div,{className:"mt-1 space-y-1",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:[.25,.46,.45,.94]},children:s.map((g,w)=>{const k=g.icon,m=d===g.id;return e.jsxs(v.button,{onClick:()=>_(g.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 ${m?"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 shadow-sm":"text-gray-600 dark:text-gray-400 hover:bg-gray-100/80 dark:hover:bg-gray-700/50"}`,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:w*.02},whileHover:{x:4},whileTap:{scale:.98},children:[e.jsx(k,{size:18,className:"ml-1"}),e.jsx("span",{className:"font-medium text-sm",children:g.label}),m&&e.jsx(v.div,{className:"ml-auto w-1.5 h-1.5 rounded-full bg-primary-500",initial:{scale:0},animate:{scale:1},transition:{delay:.05}})]},g.id)})})})]})]}),e.jsxs("div",{className:"p-4 border-t border-gray-200/50 dark:border-gray-700/50 flex items-center justify-between",children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Expense Tracker v1.0"}),e.jsx("button",{onClick:o,className:`p-1.5 rounded-lg transition-all ${l?"animate-pulse":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,"aria-label":"Toggle theme",children:n?e.jsx(B,{size:16,className:"text-yellow-500"}):e.jsx(G,{size:16,className:"text-gray-500 dark:text-gray-400"})})]})]})})},$e=({children:t})=>{const[d,c]=r.useState(window.innerWidth<768),[a,i]=r.useState(!1),[n,o]=r.useState(0),l=D(),p=re(),{isOnline:x,isSyncing:h,syncData:s,appInitialized:y}=z(),{darkMode:f,toggleTheme:_,isTransitioning:g}=J();if(console.log("Layout render:",{isMobile:d,sidebarOpen:a,currentSlide:n,appInitialized:y}),!y)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-gray-900",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})});const w=r.useCallback(()=>{const b=window.innerWidth<768;c(b),b&&!a&&i(!1)},[a]);r.useEffect(()=>(window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)),[w]);const k=r.useMemo(()=>[{path:"/",icon:O,label:"Home",slideIndex:0},{path:"/ai",icon:V,label:"AI",slideIndex:1},{path:"/analysis",icon:$,label:"Analysis",slideIndex:2},{path:"/wallet",icon:M,label:"Wallet",slideIndex:3},{path:"/planning",icon:W,label:"Planning",slideIndex:4},{path:"/profile",icon:F,label:"Profile",slideIndex:14}],[]),m=r.useCallback(()=>{i(b=>!b)},[]),j=r.useCallback(()=>{i(!1)},[]);return e.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[d&&e.jsx("header",{className:"sticky top-0 z-40 bg-white/90 dark:bg-gray-800/90 backdrop-blur-md border-b border-gray-200/50 dark:border-gray-700/50 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsx("button",{onClick:m,className:"p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors focus-ring",children:a?e.jsx(ge,{size:24}):e.jsx(he,{size:24})}),e.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-primary-600 to-primary-700 bg-clip-text text-transparent",children:"Expense Tracker"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:_,className:`p-1.5 rounded-lg transition-all ${g?"animate-pulse":"hover:bg-gray-100 dark:hover:bg-gray-700 focus-ring"}`,"aria-label":"Toggle theme",children:f?e.jsx(B,{size:18,className:"text-yellow-500"}):e.jsx(G,{size:18,className:"text-gray-500 dark:text-gray-400"})}),e.jsx("button",{onClick:s,className:`p-1.5 rounded-lg transition-all ${h?"animate-spin":"hover:bg-gray-100 dark:hover:bg-gray-700 focus-ring"}`,"aria-label":"Sync data",children:e.jsx(U,{size:18,className:h?"text-yellow-500":"text-gray-500 dark:text-gray-400"})}),e.jsx("div",{className:"relative",children:x?e.jsx("div",{className:"p-1.5 rounded-full bg-green-100 dark:bg-green-900/30 shadow-sm",children:e.jsx(H,{size:18,className:"text-green-600 dark:text-green-400"})}):e.jsx("div",{className:"p-1.5 rounded-full bg-red-100 dark:bg-red-900/30 shadow-sm",children:e.jsx(q,{size:18,className:"text-red-600 dark:text-red-400"})})})]})]})}),d&&a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-50 bg-black/30 backdrop-blur-sm",onClick:j}),e.jsxs("div",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800/90 dark-gradient shadow-2xl border-r border-gray-200 dark:border-gray-700/50 rounded-r-2xl",onClick:b=>b.stopPropagation(),children:[e.jsxs("div",{className:"p-5 border-b border-gray-200 dark:border-gray-700/50",children:[e.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-primary-600 to-primary-700 dark:from-primary-400 dark:to-primary-300 bg-clip-text text-transparent",children:"Expense Tracker"}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${x?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:x?"Online":"Offline"})]})]}),e.jsx("nav",{className:"p-3 space-y-1",children:k.map((b,Z)=>{const Y=b.icon,P=l.pathname===b.path;return e.jsxs("button",{onClick:()=>{p(b.path),j()},className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-300 group ${P?"bg-gradient-to-r from-primary-100 to-primary-50 dark:from-primary-900/40 dark:to-primary-900/30 text-primary-700 dark:text-primary-300 shadow-sm":"hover:bg-gray-100 dark:hover:bg-gray-700/50 text-gray-700 dark:text-gray-300"}`,children:[e.jsx("div",{className:`p-1.5 rounded-lg transition-colors ${P?"bg-primary-500 text-white shadow-md":"bg-gray-200 dark:bg-gray-700 group-hover:bg-primary-500 group-hover:text-white shadow-sm"}`,children:e.jsx(Y,{size:20,className:P?"text-white":"text-gray-500 dark:text-gray-400 group-hover:text-white"})}),e.jsx("span",{className:"font-medium",children:b.label}),P&&e.jsx("div",{className:"ml-auto w-2 h-2 rounded-full bg-primary-500"})]},b.path)})})]})]}),!d&&e.jsxs(e.Fragment,{children:[e.jsx(Ve,{onSlideChange:o,currentSlide:n}),e.jsx("main",{className:"ml-64 h-screen overflow-hidden",children:e.jsx(Oe,{initialSlide:n,onSlideChange:o})})]}),d&&e.jsx("main",{className:"pt-16 min-h-screen w-full overflow-x-hidden",children:e.jsx("div",{className:"p-4 w-full",children:t})})]})},Me=()=>{const[t,d]=r.useState(!0),[c,a]=r.useState({username:"",email:"",password:""}),[i,n]=r.useState(!1),[o,l]=r.useState(""),{setUser:p}=z(),x=s=>{a({...c,[s.target.name]:s.target.value})},h=async s=>{var y;s.preventDefault(),n(!0),l("");try{let f;t?f=await ie(c.email,c.password):f=await ne(c.email,c.password,c.username),f.user&&p({id:f.user.id,username:((y=f.user.user_metadata)==null?void 0:y.username)||f.user.email,email:f.user.email}),a({username:"",email:"",password:""})}catch(f){l(f.message||"An error occurred")}finally{n(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4",children:e.jsxs("div",{className:"card w-full max-w-md",children:[e.jsx("div",{className:"card-header",children:e.jsx("h2",{className:"card-title text-center",children:t?"Login to Expense Tracker":"Create Account"})}),e.jsxs("div",{className:"card-content",children:[o&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg",children:o}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[!t&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"form-label",children:"Username"}),e.jsx("input",{type:"text",id:"username",name:"username",value:c.username,onChange:x,className:"input w-full",required:!t})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:c.email,onChange:x,className:"input w-full",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),e.jsx("input",{type:"password",id:"password",name:"password",value:c.password,onChange:x,className:"input w-full",required:!0,minLength:"6"})]}),e.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:i,children:i?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),t?"Logging in...":"Creating account..."]}):t?"Login":"Register"})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("button",{onClick:()=>d(!t),className:"text-primary-600 dark:text-primary-400 hover:underline",children:t?"Don't have an account? Register":"Already have an account? Login"})})]})]})})},We=r.lazy(()=>u(()=>import("./dashboard-BxLSlvrI.js").then(t=>t.D),__vite__mapDeps([0,1,2,3,4,5]))),Fe=r.lazy(()=>u(()=>import("./analysis-hPK1Cz1q.js"),__vite__mapDeps([6,1,2,0,3,4,5]))),Ue=r.lazy(()=>u(()=>import("./ai-D8qgtmem.js"),__vite__mapDeps([7,1,2,0,3,4,5]))),He=r.lazy(()=>u(()=>import("./wallets-C8h88Fz5.js"),__vite__mapDeps([8,1,2,0,3,4,5]))),qe=r.lazy(()=>u(()=>import("./planning-4dPq2L3Q.js"),__vite__mapDeps([9,1,2,0,3,4,5]))),Be=r.lazy(()=>u(()=>import("./profile-DblVBl6p.js"),__vite__mapDeps([15,1,2,0,3,4,5]))),X=()=>(console.log("Showing loading fallback"),e.jsx("div",{className:"flex items-center justify-center h-screen bg-white dark:bg-gray-900",children:e.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})})),I=({children:t})=>e.jsx(r.Suspense,{fallback:e.jsx(X,{}),children:t}),T=({children:t})=>{const{user:d,appInitialized:c}=z();return console.log("ProtectedRoute check:",{user:d,appInitialized:c}),c?d?(console.log("User authenticated, showing children"),t):(console.log("User not authenticated, showing login"),e.jsx(Me,{})):(console.log("App not initialized, showing loading fallback"),e.jsx(X,{}))},Ge=()=>{const t=D();return e.jsx(S,{mode:"wait",children:e.jsxs(te,{location:t,children:[e.jsx(N,{path:"/",element:e.jsx(T,{children:e.jsx(I,{children:e.jsx(E,{children:e.jsx(We,{})})})})}),e.jsx(N,{path:"/analysis",element:e.jsx(T,{children:e.jsx(I,{children:e.jsx(E,{children:e.jsx(Fe,{})})})})}),e.jsx(N,{path:"/ai",element:e.jsx(T,{children:e.jsx(I,{children:e.jsx(E,{children:e.jsx(Ue,{})})})})}),e.jsx(N,{path:"/wallet",element:e.jsx(T,{children:e.jsx(I,{children:e.jsx(E,{children:e.jsx(He,{})})})})}),e.jsx(N,{path:"/planning",element:e.jsx(T,{children:e.jsx(I,{children:e.jsx(E,{children:e.jsx(qe,{})})})})}),e.jsx(N,{path:"/profile",element:e.jsx(T,{children:e.jsx(I,{children:e.jsx(E,{children:e.jsx(Be,{})})})})})]},t.pathname)})};function Ke(){return e.jsx(oe,{children:e.jsx(ae,{children:e.jsx($e,{children:e.jsx(Ge,{})})})})}function Je(t={}){const{immediate:d=!1,onNeedRefresh:c,onOfflineReady:a,onRegistered:i,onRegisteredSW:n,onRegisterError:o}=t;let l,p;const x=async(s=!0)=>{await p};async function h(){if("serviceWorker"in navigator){if(l=await u(async()=>{const{Workbox:s}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:s}},[]).then(({Workbox:s})=>new s("/sw.js",{scope:"/",type:"classic"})).catch(s=>{o==null||o(s)}),!l)return;l.addEventListener("activated",s=>{(s.isUpdate||s.isExternal)&&window.location.reload()}),l.addEventListener("installed",s=>{s.isUpdate||a==null||a()}),l.register({immediate:d}).then(s=>{n?n("/sw.js",s):i==null||i(s)}).catch(s=>{o==null||o(s)})}}return p=h(),x}Je({immediate:!0,onNeedRefresh(){console.log("New content is available, please refresh.")},onOfflineReady(){console.log("App is ready for offline use.")}});L.createRoot(document.getElementById("root")).render(e.jsx(se.StrictMode,{children:e.jsx(ve,{children:e.jsx(Ke,{})})}));
